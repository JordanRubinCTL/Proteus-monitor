<!DOCTYPE html>
<html lang="en" class="chi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ Proteus Chi Demo - Web Components Dashboard</title>
    <meta name="description" content="A modern web components application built with Chi UI and Vue backend">
    
<link rel="stylesheet" href="https://lib.lumen.com/chi/6.67.0/chi-portal.css" integrity="sha256-iA3FwGgnKpn/w8P2BwmuIqfyPvbH/pubeTjtINO9gKI=" crossorigin="anonymous">


    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üöÄ</text></svg>">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    

        <!-- MSAL.js for Azure AD login -->
        <script src="https://alcdn.msauth.net/browser/2.38.0/js/msal-browser.min.js"></script>
        <style>
            #msal-login-container {
                background: rgba(255, 255, 255, 0.95);
                border-radius: 8px;
                padding: 1rem;
                margin: 1rem auto;
                max-width: 400px;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            }
            #msal-user-info { 
                text-align: center; 
                margin-top: 0.5rem; 
                color: #222; 
                padding: 1rem;
                background: #f8f9fa;
                border-radius: 6px;
                border-left: 4px solid #0078d4;
            }
            #msal-logout-btn {
                background: #fff;
                color: #0078d4;
                border: 1px solid #0078d4;
                border-radius: 4px;
                padding: 0.5rem 1.5rem;
                font-size: 0.9rem;
                font-weight: 600;
                cursor: pointer;
                margin-top: 0.75rem;
                transition: all 0.2s ease;
            }
            #msal-logout-btn:hover { 
                background: #0078d4;
                color: white;
            }
            #msal-loading {
                font-weight: 500;
                padding: 1rem;
                background: #e3f2fd;
                border-radius: 6px;
                border-left: 4px solid #2196f3;
            }
            .tenant-info {
                font-size: 0.85rem;
                color: #666;
                margin-top: 0.5rem;
            }
        </style>


    
    <style>
        /* Global Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            line-height: 1.6;
        }

        /* Loading Screen */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            color: white;
            opacity: 1;
            transition: opacity 0.5s ease-out;
        }

        #loading-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 2rem;
        }

        .loading-text {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .loading-subtitle {
            font-size: 1rem;
            opacity: 0.8;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Navigation */
        .main-nav {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: #333;
            text-decoration: none;
        }

        .nav-brand:hover {
            color: #007acc;
        }

        .nav-menu {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-item {
            position: relative;
        }

        .nav-link {
            text-decoration: none;
            color: #666;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .nav-link:hover,
        .nav-link.active {
            color: #007acc;
            background: rgba(0, 122, 204, 0.1);
        }

        /* Mobile menu toggle */
        .nav-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #333;
        }

        /* Main Content */
        .main-content {
            min-height: calc(100vh - 80px);
            position: relative;
        }

        .page-section {
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }

        .page-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Footer */
        .main-footer {
            background: rgba(0, 0, 0, 0.8);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 2rem;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .footer-link {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .footer-link:hover {
            color: white;
        }

        /* Welcome Section */
        .welcome-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            margin: 2rem;
            border-radius: 1rem;
            padding: 3rem 2rem;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }

        .welcome-title {
            font-size: 3rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .welcome-subtitle {
            font-size: 1.25rem;
            color: #666;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .feature-card {
            background: white;
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .feature-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 0.75rem;
        }

        .feature-description {
            color: #666;
            line-height: 1.6;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: rgba(255, 255, 255, 0.98);
                backdrop-filter: blur(10px);
                flex-direction: column;
                padding: 1rem;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
                border-radius: 0 0 1rem 1rem;
            }

            .nav-menu.active {
                display: flex;
            }

            .nav-toggle {
                display: block;
            }

            .nav-container {
                padding: 1rem;
            }

            .welcome-section {
                margin: 1rem;
                padding: 2rem 1rem;
            }

            .welcome-title {
                font-size: 2rem;
            }

            .welcome-subtitle {
                font-size: 1.1rem;
            }

            .feature-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }

        /* Utility Classes */
        .text-center { text-align: center; }
        .mb-0 { margin-bottom: 0; }
        .mb-1 { margin-bottom: 1rem; }
        .mb-2 { margin-bottom: 2rem; }
        .hidden { display: none; }
    </style>
</head>


<header class="chi-header -lg -impersonation">
  <div class="chi-impersonation-bar">
    <div class="chi-impersonation-bar__content"><span class="chi-impersonation-bar__label">Signed in as:</span><strong class="chi-impersonation-bar__username">User</strong>
      <div class="chi-impersonation-bar__divider chi-divider -vertical -h--75"></div>
      <button class="chi-button -flat -xs -icon" id="button-portal-logout" aria-label="Sign out" data-tooltip="Sign out" data-position="bottom">
        <div class="chi-button__content"><i class="chi-icon icon-logout" aria-hidden="true"></i></div>
      </button>
    </div>
  </div>
  <nav class="chi-header__content">
    <div class="chi-header__brand">
      <a class="chi-brand" href="#" aria-label="Lumen">
        <svg viewBox="0 0 145 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M0 1.4332C0 .61497895.65465263.00138947 1.55466316.00138947c.94108421 0 1.55466316.61358948 1.55466316 1.43181053v14.1059263c0 .4910737.2046421.7364421.7364421.7364421H17.0602316c1.0639368 0 1.6775158.4910737 1.6775158 1.4318105 0 .9821369-.613579 1.4321474-1.6775158 1.4321474H1.67751579C.57286316 19.1395263 0 18.6895263 0 17.7073789V1.4332zm26.4292842 10.5716737c0 5.2775789 2.8639579 4.639021 8.0597474 4.639021 5.1957895 0 8.0597473.7203579 8.0597473-4.6390105V1.43330526c0-.81822105.6135895-1.4321579 1.5546632-1.4321579.9407368 0 1.5546632.61392632 1.5546632 1.4321579V12.2913053c0 6.5868736-4.0914737 7.3390526-11.1690737 7.3390526-7.0779474 0-11.1690737-.752179-11.1690737-7.3390526V1.43329474c0-.81822106.6135895-1.43214737 1.5546632-1.43214737.9410736 0 1.5546631.61391579 1.5546631 1.43214737V12.0048737zm49.5442421-7.21691581h-.1228631l-7.5276106 7.13509471c-.7579894.6447263-1.1114947 1.1864421-1.8003684 1.1864421-.5482316 0-1.0783053-.5194736-1.7589684-1.1864421l-7.5690105-7.17615786h-.163579V17.9531579c0 .8589474-.6135895 1.4318105-1.5546631 1.4318105-.9000106 0-1.5546632-.5728631-1.5546632-1.4318105V2.12864211C53.9218.9422 55.0165368.00111579 55.9264737.00111579c.9102842 0 1.6823158.54822105 2.7003895 1.59572632l7.9368947 7.78974736h.0407263l7.9372316-7.83081052C75.5772526.60853685 76.0488105.00111579 77.1189053.00111579c1.1296421 0 1.9639473.94108421 1.9639473 2.12752632V17.9531474c0 .8589473-.6135789 1.431821-1.5546631 1.431821-.9000106 0-1.5546632-.5728737-1.5546632-1.431821V4.78795789zm11.4553369 3.53818948l13.3373048.0376421c1.104653 0 1.677516.5318 1.677516 1.43181053 0 .9410737-.572863 1.4321474-1.677516 1.4321474H90.5381789v4.3115158c0 .4907368.2046422.7364421.7364422.7364421h13.5419679c1.06359 0 1.636453.4907263 1.636453 1.4318105 0 .9818-.572863 1.4318105-1.636453 1.4318105H89.1063789c-1.1046526 0-1.6775157-.4500105-1.6775157-1.4318105V8.32614737zm48.6445048 9.21771583c0 1.0636-.816863 1.8411052-1.88181 1.8411052-1.055716 0-1.762726-.8117263-2.782179-1.6775158L116.190242 4.62438947V17.9531579c0 .8182316-.613926 1.4318105-1.554663 1.4318105-.900347 0-1.554663-.6135895-1.554663-1.4318105V2.12864211c0-1.39108421.731305-2.12752632 1.840747-2.12752632 1.011242 0 1.600526.66628421 2.659316 1.55466316l15.383053 12.91983155V1.43327368c0-.81822105.613589-1.4321579 1.554663-1.4321579.900021 0 1.554673.61392632 1.554673 1.4321579V17.5438632zm2.167569-14.93333688v-.01413685c0-1.34223158 1.088147-2.47245263 2.458484-2.47245263 1.384842 0 2.458484 1.11607369 2.458484 2.45830527v.01414736c0 1.34223158-1.087789 2.47262106-2.458484 2.47262106-1.384495 0-2.458484-1.11625264-2.458484-2.45848421zm4.6344-.01413685v-.01414736c0-1.20094737-.932537-2.18989474-2.175916-2.18989474-1.229232 0-2.175916 1.00309474-2.175916 2.2040421v.01413685c0 1.20094736.932537 2.19006315 2.175916 2.19006315 1.229242 0 2.175916-1.00325263 2.175916-2.2042zm-3.136748-1.2998h1.130569c.550968 0 .960821.26841053.960821.79126316 0 .40968421-.240463.6639579-.57959.7628l.664127.94668421h-.579253l-.59341-.86181052h-.522674v.86181052h-.48059V1.29658947zm1.088137 1.24338948c.325 0 .508537-.16956842.508537-.40986316 0-.26841053-.183537-.40968421-.508537-.40968421h-.607537v.81954737h.607537z" fill="#000"></path>
          <path d="M106.330232 1.71966316c0-.94108421-.572874-1.47287369-1.677516-1.47287369H89.1060842c-1.1043263 0-1.6771789.53178948-1.6771789 1.47287369v1.42565263l17.2648737-.0345579c1.063579-.00001052 1.636453-.49107368 1.636453-1.39109473" fill="#0C9ED9"></path>
        </svg>
      </a>
      <span class="chi-header__title -d--none -d-sm--flex">PROTEUS Standards docker demo</span>
    </div>
    <div class="chi-header__start">
      <div class="-d--flex -d-lg--none">
        <button class="chi-button -icon -flat chi-drawer__trigger" id="drawer-trigger-portal-pib2" data-target="#drawer-1" aria-label="Toggle navigation">
          <div class="chi-button__content"><i class="chi-icon -sm--2 icon-menu" aria-hidden="true"></i></div>
        </button>
      </div>
    </div>
    <div class="chi-header__end">
      <div class="-d--none -d-lg--flex">
        <button class="chi-button -flat -icon" id="button-portal-notification2" aria-label="Notifications" data-tooltip="Notifications" data-position="bottom">
          <div class="chi-button__content"><i class="chi-icon icon-bell-outline" aria-hidden="true"></i>
            <div class="chi-badge -dark -xs">2</div>
          </div>
        </button>
        <div class="chi-divider -vertical"></div>
        <div class="chi-dropdown -d--none -d-lg--flex">
          <button class="chi-button -flat chi-dropdown__trigger -px--1 -animate" id="button-portal-user-menu2" data-position="bottom-end">Menu</button>
          <div class="chi-dropdown__menu -w--sm"><a class="chi-dropdown__menu-item" href="#"><i class="chi-icon icon-user" aria-hidden="true"></i><span>Item 1</span></a><a class="chi-dropdown__menu-item" href="#"><i class="chi-icon icon-logout" aria-hidden="true"></i><span>Item 2</span></a></div>
        </div>
        <div class="chi-dropdown -d--none -d-lg--flex">
          <button class="chi-button -flat chi-dropdown__trigger -px--1 -animate" id="button-portal-eid-menu2" data-position="bottom-end">Menu</button>
          <div class="chi-dropdown__menu -w--sm"><a class="chi-dropdown__menu-item" href="#"><i class="chi-icon icon-user" aria-hidden="true"></i><span>Item 1</span></a><a class="chi-dropdown__menu-item" href="#"><i class="chi-icon icon-logout" aria-hidden="true"></i><span>Item 2</span></a></div>
        </div>
      </div>
    </div>
  </nav>
  <nav class="chi-header__navbar">
    <div class="chi-header__start"></div>
    <div class="chi-header__end">
      <ul class="chi-tabs -sm">
        <li><a class="-text--uppercase" href="#" target="_blank">Help</a></li>
        <li><a class="-text--uppercase" href="#" target="_blank">Contact Us</a></li>
      </ul>
    </div>
  </nav>
</header>

<!-- Drawer -->
<div class="chi-backdrop -closed">
  <div class="chi-backdrop__wrapper">
    <div class="chi-drawer -left -menu -position--absolute" id="drawer-1">
      <div class="chi-drawer__header">
        <button class="chi-button -icon -close" aria-label="Close">
          <div class="chi-button__content">
            <i class="chi-icon icon-x" aria-hidden="true"></i>
          </div>
        </button>
      </div>
      <div class="chi-drawer__content">
        <div class="-px--2 -text">Drawer content here</div>
      </div>
    </div>
  </div>
</div>

<!-- JavaScript -->
<script>
  chi.drawer(document.getElementById('drawer-trigger-portal-pib2'));
  chi.dropdown(document.getElementById('button-portal-site-menu2'));
  chi.dropdown(document.getElementById('button-portal-user-menu2'));
  chi.dropdown(document.getElementById('button-portal-eid-menu2'));
  chi.tooltip(document.getElementById('button-portal-logout'));
  chi.tooltip(document.getElementById('button-portal-notification2'));
</script></header>

<body>
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loading-spinner"></div>
        <div class="loading-text">üöÄ Proteus Standards Docker Demo</div>
        <div class="loading-subtitle">Loading Web Components...</div>
    </div>

    <!-- Navigation -->
    <nav class="main-nav">
        <div class="nav-container">
            <a href="#" class="nav-brand">
                üöÄ <span>Proteus Chi Monitor index,html</span>
            </a>
            
            <ul class="nav-menu" id="nav-menu">
                <li class="nav-item">
                    <a href="#" class="nav-link active" data-page="welcome">üè† Home</a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-page="dashboard">üìä Dashboard</a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-page="buttons">üéØ Buttons</a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-page="forms">üìù Forms</a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-page="data">üìã Data Display</a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-page="modals">üóÇÔ∏è Modals</a>
                </li>
            </ul>
            
            <button class="nav-toggle" id="nav-toggle">‚ò∞</button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Welcome Section -->
        <section id="welcome-page" class="page-section active">
            <div class="welcome-section">
                    <!-- Multi-Tenant Azure AD Login UI -->
                    <div id="msal-login-container">
                      <div id="msal-user-info" style="display:none;"></div>
                      <div style="text-align: center;">
                        <button id="msal-logout-btn" style="display:none;">üö™ Sign Out</button>
                      </div>
                      <div id="msal-loading" style="display:none;">
                        <div style="color: #0078d4; font-size: 1rem; text-align: center;">
                          üîÑ Authenticating with Microsoft...<br>
                          <small style="color: #666; margin-top: 0.5rem; display: block;">
                            Multi-tenant authentication in progress
                          </small>
                        </div>
                      </div>
                    </div>
                <h1 class="welcome-title">üöÄ Proteus Chi Monitor</h1>
                <p class="welcome-subtitle">
                    A demo on proteus built with Chi Web Components and a Vue.js backend. 
                    This is used for process and library examination.
                </p>
                
                <!-- Authentication Configuration Display -->
                <div id="auth-config-display" style="text-align: center; margin: 1.5rem auto; max-width: 500px; background: #f8f9fa; padding: 1rem; border-radius: 8px; border-left: 4px solid #007acc;">
                    <div style="font-weight: 600; color: #007acc; margin-bottom: 0.5rem;">
                        üîê Authentication Configuration
                    </div>
                    <div style="font-size: 0.9rem; color: #666;">
                        Loading configuration...
                    </div>
                </div>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">‚ö°</div>
                        <h3 class="feature-title">High Performance</h3>
                        <p class="feature-description">
                            This is a lightning bolt.  Lightning is cool.
                        </p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üé®</div>
                        <h3 class="feature-title">Bob Ross</h3>
                        <p class="feature-description">
                            He liked to paint happy trees.....
                        </p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üîß</div>
                        <h3 class="feature-title">This is a wrench</h3>
                        <p class="feature-description">
                            Metric or imperial, who knows...
                        </p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üìä</div>
                        <h3 class="feature-title">Data Visualization</h3>
                        <p class="feature-description">
                            Who doesnt like a graph
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dashboard Page -->
        <section id="dashboard-page" class="page-section">
            <chi-dashboard></chi-dashboard>
        </section>

        <!-- Buttons Page -->
        <section id="buttons-page" class="page-section">
            <chi-button-showcase></chi-button-showcase>
        </section>

        <!-- Forms Page -->
        <section id="forms-page" class="page-section">
            <chi-form-showcase></chi-form-showcase>
        </section>

        <!-- Data Display Page -->
        <section id="data-page" class="page-section">
            <chi-data-display></chi-data-display>
        </section>

        <!-- Modals Page -->
        <section id="modals-page" class="page-section">
            <chi-modal-system></chi-modal-system>
        </section>


    </main>

    <!-- Footer -->
<footer class="chi-footer">
  <div class="chi-footer__content">
    <div class="chi-footer__internal">
      <div class="chi-footer__internal-content -mw--1200">
        <div class="chi-footer__links">
          <ul>
            <li>
              <a href="https://www.lumen.com/en-us/about.html">About Us</a>
            </li>
            <li>
              <a href="https://www.lumen.com/en-us/about/accessibility.html">Accessibility</a>
            </li>
            <li>
              <a href="https://www.lumen.com/en-us/about/legal/commission-for-complaints-for-telecom-television-services-ccts.html">Canadian Ombudsman</a>
            </li>
            <li>
              <a href="https://jobs.lumen.com" target="_blank">Careers</a>
            </li>
            <li>
              <a href="https://www.lumen.com/en-us/contact-us.html">Contact Us</a>
            </li>
            <li>
              <a href="#" class="optanon-toggle-display">Cookie Settings</a>
            </li>
            <li>
              <a href="https://www.lumen.com/en-us/about/governance.html">Governance</a>
            </li>
            <li>
              <a href="https://www.lumen.com/en-us/about/legal.html">Legal</a>
            </li>
            <li>
              <a href="https://www.lumen.com/en-us/about/legal/privacy-center.html">Privacy</a>
            </li>
            <li>
              <a href="https://www.lumen.com/en-us/about/public-policy.html">Public Policy</a>
            </li>
            <li>
              <a href="https://www.lumen.com/help/en-us/home.html" target="_blank">Support</a>
            </li>
          </ul>
          <div class="chi-footer__copyright">&copy; 2025 Lumen Technologies. All Rights Reserved. Lumen is a registered trademark in the United States, EU and certain other countries.</div>
        </div>
      </div>
    </div>
  </div>
</footer>
    <!-- Component Scripts -->
    <script src="components/chi-base.js"></script>
    <script src="components/chi-button-showcase.js"></script>
    <script src="components/chi-form-components.js"></script>
    <script src="components/chi-dashboard.js"></script>
    <script src="components/chi-data-display.js"></script>
    <script src="components/chi-modal-system.js"></script>


    <!-- Application Script -->
    <script>
        // Application Class
        class ProteusApp {
            constructor() {
                this.currentPage = 'welcome';
                this.init();
            }

            init() {
                this.bindEvents();
                this.hideLoadingScreen();
                this.checkBackendConnection();
            }

            bindEvents() {
                // Navigation
                const navLinks = document.querySelectorAll('.nav-link');
                navLinks.forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const page = link.dataset.page;
                        this.navigateTo(page);
                    });
                });

                // Mobile menu toggle
                const navToggle = document.getElementById('nav-toggle');
                const navMenu = document.getElementById('nav-menu');
                
                navToggle?.addEventListener('click', () => {
                    navMenu.classList.toggle('active');
                });

                // Close mobile menu when clicking links
                navLinks.forEach(link => {
                    link.addEventListener('click', () => {
                        navMenu.classList.remove('active');
                    });
                });

                // Global error handling
                window.addEventListener('error', (e) => {
                    console.error('Application error:', e.error);
                    this.showNotification('danger', 'An unexpected error occurred', 'Error');
                });

                // Listen for custom events from components
                document.addEventListener('api-success', (e) => {
                    console.log('API Success:', e.detail);
                });

                document.addEventListener('api-error', (e) => {
                    console.error('API Error:', e.detail);
                    this.showNotification('warning', 'API request failed. Please check your connection.', 'Connection Issue');
                });
            }

            navigateTo(page) {
                // Update active nav link
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                });
                document.querySelector(`[data-page="${page}"]`).classList.add('active');

                // Show corresponding page
                document.querySelectorAll('.page-section').forEach(section => {
                    section.classList.remove('active');
                });
                document.getElementById(`${page}-page`).classList.add('active');

                this.currentPage = page;

                // Update page title
                const titles = {
                    'welcome': 'üöÄ Proteus Chi Monitor - Home',
                    'dashboard': 'üìä Dashboard - Proteus Chi Monitor',
                    'buttons': 'üéØ Buttons - Proteus Chi Monitor',
                    'forms': 'üìù Forms - Proteus Chi Monitor',
                    'data': 'üìã Data Display - Proteus Chi Monitor',
                    'modals': 'üóÇÔ∏è Modals - Proteus Chi Monitor',

                };
                document.title = titles[page] || 'üöÄ Proteus Chi Monitor';
            }

            hideLoadingScreen() {
                const loadingScreen = document.getElementById('loading-screen');
                
                // Simulate loading time
                setTimeout(() => {
                    loadingScreen.classList.add('hidden');
                    
                    // Remove from DOM after animation
                    setTimeout(() => {
                        if (loadingScreen.parentNode) {
                            loadingScreen.parentNode.removeChild(loadingScreen);
                        }
                    }, 500);
                }, 1500);
            }

            async checkBackendConnection() {
                try {
                    const response = await fetch('/api/dashboard/stats');
                    if (response.ok) {
                        this.showNotification('success', 'Backend connection established', 'System Ready');
                    } else {
                        throw new Error('Backend not responding');
                    }
                } catch (error) {
                    console.warn('Backend connection failed:', error);
                    this.showNotification('warning', 'Backend server not available. Some features may be limited.', 'Connection Warning');
                }
            }

            showNotification(type, message, title = '') {
                const notification = document.createElement('chi-notification');
                notification.setAttribute('type', type);
                notification.setAttribute('title', title);
                notification.setAttribute('autoshow', 'true');
                notification.setAttribute('duration', '5000');
                notification.textContent = message;
                
                document.body.appendChild(notification);
                
                // Remove from DOM after hide
                notification.addEventListener('chi-notification-hide', () => {
                    notification.remove();
                });
            }

            // Utility methods
            getCurrentPage() {
                return this.currentPage;
            }

            isBackendAvailable() {
                return fetch('/api/dashboard/stats')
                    .then(response => response.ok)
                    .catch(() => false);
            }


        }

        // Service Worker Registration (for PWA capabilities)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                // Optional: Register service worker for offline functionality
                console.log('Service Worker support detected');
            });
        }

        // Initialize Application
        let app;
        document.addEventListener('DOMContentLoaded', () => {
            app = new ProteusApp();
            

            
            // Make app globally available for debugging
            window.ProteusApp = app;
            
            console.log('üöÄ Proteus Chi Monitor initialized successfully!');
        });

        // Export for modules
        if (typeof module !== 'undefined' && module.exports) {
            module.exports = ProteusApp;
        }
    </script>
</body>
        <script>
            // ========================================
            // AZURE AD TENANT CONFIGURATION
            // ========================================
            
            // Configuration options - IMPORTANT: Must match your Azure AD App Registration!
            const TENANT_CONFIG = {
                // üö´ DISABLE AZURE AD: Set to true to completely disable Azure authentication
                disabled: false, // Set to true to skip all Azure AD authentication
                
                // ‚ö†Ô∏è  CRITICAL: The mode here MUST match your Azure Portal app registration settings!
                
                // If you get "/common endpoint not supported" error, your app is registered as single-tenant
                // SOLUTION: Either change to single-tenant mode OR update Azure Portal to multi-tenant
                
                // Option 1: Single-tenant (RECOMMENDED if you get the /common error)
                mode: 'single-tenant',
                tenantId: '72b17115-9915-42c0-9f1b-4f98e5a4bcd2', // Replace with YOUR tenant ID from Azure Portal
                
                // Option 2: Multi-tenant (only if Azure Portal is configured as multi-tenant)
                // mode: 'multi-tenant',
                
                // Option 3: Organizations only (only if Azure Portal allows work accounts)
                // mode: 'organizations-only',
                
                clientId: "dd9e12c5-f62c-4303-bab8-824ac13e1f09", // Replace with your real clientId from Azure Portal
                
                // Optional: Your organization domain for better UX
                tenantDomain: 'localhost:5500' // Replace with your actual domain
            };

            // ========================================
            // AZURE AD DISABLE CHECK
            // ========================================
            
            // If Azure AD is disabled, skip all authentication and show a simple message
            if (TENANT_CONFIG.disabled) {
                console.log('üö´ Azure AD authentication is DISABLED');
                
                // Hide the MSAL login container
                const msalContainer = document.getElementById('msal-login-container');
                if (msalContainer) {
                    msalContainer.style.display = 'none';
                }
                
                // Show a simple disabled message
                const authConfigDiv = document.querySelector('.auth-config');
                if (authConfigDiv) {
                    authConfigDiv.innerHTML = `
                        <div style="text-align: center; padding: 2rem; background: #f8f9fa; border: 2px solid #e9ecef; border-radius: 8px; margin: 1rem 0;">
                            <div style="font-size: 2rem; margin-bottom: 1rem;">üö´</div>
                            <h3 style="color: #6c757d; margin-bottom: 1rem;">Azure AD Authentication Disabled</h3>
                            <p style="color: #6c757d; margin: 0;">Authentication has been disabled in the configuration.</p>
                            <p style="color: #6c757d; font-size: 0.9rem; margin-top: 0.5rem;">
                                Set <code>TENANT_CONFIG.disabled = false</code> to enable Azure AD login.
                            </p>
                        </div>
                    `;
                }
                
                // Exit the script early - no Azure AD initialization
                return;
            }

            // Configuration validation
            function validateTenantConfig() {
                const errors = [];
                const warnings = [];

                // Skip validation if Azure AD is disabled
                if (TENANT_CONFIG.disabled) {
                    return { errors, warnings };
                }

                if (TENANT_CONFIG.mode === 'single-tenant') {
                    if (!TENANT_CONFIG.tenantId) {
                        errors.push('single-tenant mode requires a valid tenantId');
                    }
                }

                if (!TENANT_CONFIG.clientId) {
                    warnings.push('Please replace the placeholder clientId with your real Azure AD Application ID');
                }

                return { errors, warnings };
            }

            // Dynamic authority configuration based on mode
            function getAuthority() {
                switch (TENANT_CONFIG.mode) {
                    case 'single-tenant':
                        if (!TENANT_CONFIG.tenantId) {
                         
                            throw new Error('tenantId is required for single-tenant mode');
                        }
                        return `https://login.microsoftonline.com/${TENANT_CONFIG.tenantId}`;
                    
                    case 'organizations-only':
                        return 'https://login.microsoftonline.com/organizations';
                    
                    case 'multi-tenant':
                    default:
                        return 'https://login.microsoftonline.com/common';
                }
            }

            // Dynamic scopes based on configuration
            function getScopes() {
                const baseScopes = ['User.Read'];
                
                if (TENANT_CONFIG.mode === 'single-tenant') {
                    // Single tenant can request more permissions by default
                    return [
                        ...baseScopes,
                        'User.ReadBasic.All',
                        'Directory.Read.All',
                        'Group.Read.All'
                    ];
                } else if (TENANT_CONFIG.mode === 'organizations-only') {
                    // Organizations only - moderate permissions
                    return [
                        ...baseScopes,
                        'User.ReadBasic.All'
                    ];
                } else {
                    // Multi-tenant - minimal permissions to avoid consent issues
                    return baseScopes;
                }
            }

            // MSAL Configuration with dynamic authority
            const msalConfig = {
                auth: {
                    clientId: TENANT_CONFIG.clientId,
                    authority: getAuthority(),
//                    redirectUri: window.location.origin,
                    redirectUri: 'http://localhost:5500',
                    postLogoutRedirectUri: window.location.origin,
                    navigateToLoginRequestUrl: false,
                    // Tenant-specific configurations
                    ...(TENANT_CONFIG.mode === 'single-tenant' && {
                        knownAuthorities: [`${TENANT_CONFIG.tenantId}.b2clogin.com`],
                        cloudDiscoveryMetadata: "",
                        authorityMetadata: ""
                    })
                },
                cache: {
                    cacheLocation: "sessionStorage",
                    storeAuthStateInCookie: false,
                },
                system: {
                    loggerOptions: {
                        loggerCallback: (level, message, containsPii) => {
                            if (containsPii) return;
                            console.log(`MSAL [${TENANT_CONFIG.mode.toUpperCase()}]: ${message}`);
                        },
                        piiLoggingEnabled: false,
                        logLevel: msal.LogLevel.Info,
                    },
                    windowHashTimeout: 60000,
                    iframeHashTimeout: 6000,
                    loadFrameTimeout: 0
                }
            };

            // Validate configuration before proceeding
            const validation = validateTenantConfig();
            if (validation.errors.length > 0) {
                console.error('‚ùå Configuration errors:', validation.errors);
                throw new Error(`Configuration errors: ${validation.errors.join(', ')}`);
            }
            if (validation.warnings.length > 0) {
                console.warn('‚ö†Ô∏è Configuration warnings:', validation.warnings);
            }

            console.log(`üîê Azure AD Configuration: ${TENANT_CONFIG.mode.toUpperCase()} mode`);
            console.log(`üéØ Authority: ${getAuthority()}`);
            
            const msalInstance = new msal.PublicClientApplication(msalConfig);

            // Initialize UI elements and update loading message
            const logoutBtn = document.getElementById("msal-logout-btn");
            const userInfo = document.getElementById("msal-user-info");
            const loadingDiv = document.getElementById("msal-loading");
            
            // Update UI elements based on configuration mode
            updateLoadingMessage();
            updateAuthConfigDisplay();

            // Dynamic login request based on tenant configuration
            const loginRequest = {
                scopes: getScopes(),
                prompt: TENANT_CONFIG.mode === 'multi-tenant' ? 'select_account' : 'login',
                ...(TENANT_CONFIG.mode === 'single-tenant' && TENANT_CONFIG.tenantDomain && {
                    loginHint: `@${TENANT_CONFIG.tenantDomain}`
                })
            };

            console.log(`üìã Requested scopes: ${loginRequest.scopes.join(', ')}`);
            console.log(`üéØ Login prompt: ${loginRequest.prompt}`);

            function showUser(account) {
                // Enhanced tenant-aware user display
                const tenantId = account.tenantId;
                const tenantName = getTenantDisplayName(account);
                console.log(tenantId);
                const userDisplayName = account.name || account.username || 'Unknown User';
                const authMode = TENANT_CONFIG.mode.replace('-', ' ').toUpperCase();
                const modeIcon = {
                    'single-tenant': 'üè¢',
                    'multi-tenant': 'üåê', 
                    'organizations-only': 'üèõÔ∏è'
                }[TENANT_CONFIG.mode] || 'üîê';
                
                userInfo.innerHTML = `
                    <div style="font-weight: 600; color: #0078d4; margin-bottom: 0.5rem;">
                        üë§ ${userDisplayName}
                    </div>
                    <div style="font-size: 0.85rem; color: #666; margin-bottom: 0.25rem;">
                        üè¢ ${tenantName}
                    </div>
                    <div style="font-size: 0.75rem; color: #999; margin-bottom: 0.25rem;">
                        Tenant: ${tenantId.substring(0, 8)}...
                    </div>
                    <div style="font-size: 0.7rem; color: #007acc; background: #f0f8ff; padding: 0.25rem 0.5rem; border-radius: 12px; display: inline-block;">
                        ${modeIcon} ${authMode} MODE
                    </div>
                `;
                userInfo.style.display = "inline-block";
                logoutBtn.style.display = "inline-block";
                loadingDiv.style.display = "none";
                
                // Store enhanced tenant info globally for use by other components
                window.currentTenant = {
                    tenantId: tenantId,
                    tenantName: tenantName,
                    user: account,
                    authMode: TENANT_CONFIG.mode,
                    authority: getAuthority(),
                    scopes: loginRequest.scopes
                };
                
                console.log('Multi-tenant login successful:', {
                    user: userDisplayName,
                    tenant: tenantName,
                    tenantId: tenantId
                });
            }

            function getTenantDisplayName(account) {
                const tenantId = account.tenantId;
                const username = account.username || '';
                const authMode = TENANT_CONFIG.mode;
                
                // Handle single-tenant mode
                if (authMode === 'single-tenant') {
                    if (TENANT_CONFIG.tenantDomain) {
                        return `${TENANT_CONFIG.tenantDomain} (Single Tenant)`;
                    }
                    return `Single Tenant (${tenantId.substring(0, 8)}...)`;
                }
                
                // Handle known Microsoft tenant IDs
                const knownTenants = {
                    '9188040d-6c67-4c5b-b112-36a304b66dad': 'Personal Microsoft Account',
                    'f8cdef31-a31e-4b4a-93e4-5f571e91255a': 'Microsoft Corporation',
                    '72f988bf-86f1-41af-91ab-2d7cd011db47': 'Microsoft Corporation'
                };
                
                if (knownTenants[tenantId]) {
                    return knownTenants[tenantId];
                }
                
                // Personal account detection
                const personalDomains = ['@outlook.com', '@hotmail.com', '@live.com', '@msn.com'];
                if (personalDomains.some(domain => username.includes(domain))) {
                    return authMode === 'organizations-only' ? 'Invalid Account Type' : 'Personal Microsoft Account';
                }
                
                // Business account detection
                if (username.includes('@')) {
                    const domain = username.split('@')[1] || 'Unknown Domain';
                    const orgName = domain.split('.')[0];
                    const capitalizedOrg = orgName.charAt(0).toUpperCase() + orgName.slice(1);
                    
                    if (authMode === 'organizations-only') {
                        return `${capitalizedOrg} Organization (Work Account)`;
                    } else {
                        return `${capitalizedOrg} Organization`;
                    }
                }
                
                // Fallback
                return authMode === 'single-tenant' ? 'Authorized Tenant' : 'External Organization';
            }
            
            function updateLoadingMessage() {
                const modeMessages = {
                    'single-tenant': 'Single-tenant authentication in progress',
                    'multi-tenant': 'Multi-tenant authentication in progress', 
                    'organizations-only': 'Organization-only authentication in progress'
                };
                
                const modeIcons = {
                    'single-tenant': 'üè¢',
                    'multi-tenant': 'üåê',
                    'organizations-only': 'üèõÔ∏è'
                };
                
                const loadingContent = `
                    <div style="color: #0078d4; font-size: 1rem; text-align: center;">
                        üîÑ Authenticating with Microsoft...<br>
                        <small style="color: #666; margin-top: 0.5rem; display: block;">
                            ${modeIcons[TENANT_CONFIG.mode]} ${modeMessages[TENANT_CONFIG.mode]}
                        </small>
                    </div>
                `;
                
                loadingDiv.innerHTML = loadingContent;
            }

            function updateAuthConfigDisplay() {
                const authConfigDiv = document.getElementById('auth-config-display');
                if (!authConfigDiv) return;
                
                const modeDescriptions = {
                    'single-tenant': 'Restricted to specific tenant only',
                    'multi-tenant': 'Accepts users from any Azure AD tenant + personal accounts',
                    'organizations-only': 'Work/school accounts only (no personal accounts)'
                };
                
                const modeIcons = {
                    'single-tenant': 'üè¢',
                    'multi-tenant': 'üåê',
                    'organizations-only': 'üèõÔ∏è'
                };
                
                const authMode = TENANT_CONFIG.mode.replace('-', ' ').toUpperCase();
                const authority = getAuthority();
                const scopes = getScopes();
                
                const warningMessage = TENANT_CONFIG.mode === 'multi-tenant' ? 
                    `<div style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 0.75rem; border-radius: 4px; margin-top: 0.5rem; font-size: 0.8rem; color: #856404;">
                        ‚ö†Ô∏è If you get "/common endpoint not supported" error, your Azure app is registered as single-tenant.<br>
                        <strong>Solution:</strong> Change mode to 'single-tenant' or update Azure Portal to multi-tenant.
                    </div>` : '';

                authConfigDiv.innerHTML = `
                    <div style="font-weight: 600; color: #007acc; margin-bottom: 0.75rem;">
                        üîê Authentication Configuration
                    </div>
                    <div style="background: white; padding: 1rem; border-radius: 6px; margin-bottom: 0.5rem;">
                        <div style="font-weight: 600; color: #333; margin-bottom: 0.5rem;">
                            ${modeIcons[TENANT_CONFIG.mode]} ${authMode} MODE
                        </div>
                        <div style="font-size: 0.85rem; color: #666; margin-bottom: 0.5rem;">
                            ${modeDescriptions[TENANT_CONFIG.mode]}
                        </div>
                        <div style="font-size: 0.75rem; color: #999;">
                            Authority: ${authority.replace('https://login.microsoftonline.com/', '')}<br>
                            Scopes: ${scopes.join(', ')}
                        </div>
                        ${warningMessage}
                    </div>
                `;
            }

            function showLoading() {
                userInfo.style.display = "none";
                logoutBtn.style.display = "none";
                loadingDiv.style.display = "block";
            }

            function initiateLogin() {
                showLoading();
                msalInstance.loginRedirect(loginRequest);
            }

            // Multi-tenant account selection helper
            function selectBestAccount(accounts) {
                if (accounts.length === 0) return null;
                if (accounts.length === 1) return accounts[0];
                
                // Prefer accounts from the same tenant if multiple exist
                const currentDomain = window.location.hostname;
                return accounts.find(acc => acc.username.includes(currentDomain)) || accounts[0];
            }

            // Enhanced multi-tenant authentication handling
            msalInstance.handleRedirectPromise().then((response) => {
                let account = null;
                
                if (response && response.account) {
                    account = response.account;
                    console.log('Login successful via redirect:', account.tenantId);
                } else {
                    const currentAccounts = msalInstance.getAllAccounts();
                    if (currentAccounts.length > 0) {
                        account = selectBestAccount(currentAccounts);
                        console.log('Existing session found:', account?.tenantId);
                    }
                }
                
                if (account) {
                    showUser(account);
                    
                    // Emit custom event for other components to listen to
                    document.dispatchEvent(new CustomEvent('azure-auth-success', {
                        detail: {
                            account: account,
                            tenantId: account.tenantId,
                            isMultiTenant: true
                        }
                    }));
                } else {
                    console.log('No authenticated session found, initiating login...');
                    initiateLogin();
                }
            }).catch((error) => {
                console.error("Azure AD MSAL error:", error);
                
                // Handle the /common endpoint error specifically
                if (error.errorMessage && error.errorMessage.includes('/common endpoint') || 
                    error.errorMessage && error.errorMessage.includes('not supported for such applications')) {
                    
                    console.error('‚ùå /common endpoint error detected - App registration mismatch!');
                    document.getElementById('msal-loading').innerHTML = `
                        <div style="color: #d83b01; padding: 1.5rem; text-align: center; background: #fdf2f2; border-radius: 8px; border-left: 4px solid #d83b01;">
                            <div style="font-weight: 600; margin-bottom: 1rem;">‚ö†Ô∏è Configuration Error</div>
                            <div style="margin-bottom: 1rem; font-size: 0.9rem;">
                                The /common endpoint is not supported for your application.
                            </div>
                            <div style="font-size: 0.85rem; text-align: left; background: white; padding: 1rem; border-radius: 4px;">
                                <strong>Solutions:</strong><br><br>
                                <strong>Option 1 (Recommended):</strong> Use single-tenant mode<br>
                                ‚Ä¢ Update TENANT_CONFIG.mode to 'single-tenant'<br>
                                ‚Ä¢ Set your tenantId in the configuration<br><br>
                                <strong>Option 2:</strong> Change Azure Portal settings<br>
                                ‚Ä¢ Go to Azure Portal ‚Üí App Registrations<br>
                                ‚Ä¢ Select your app ‚Üí Authentication<br>
                                ‚Ä¢ Change "Supported account types" to multi-tenant
                            </div>
                        </div>
                    `;
                    
                } else if (error.errorCode === 'consent_required' || error.errorCode === 'interaction_required') {
                    console.log('Admin consent required for application');
                    document.getElementById('msal-loading').innerHTML = `
                        <div style="color: #d83b01; padding: 1rem; text-align: center;">
                            ‚ö†Ô∏è Admin consent required<br>
                            <small>This application requires administrator approval for your organization.</small>
                        </div>
                    `;
                    
                } else if (error.errorCode === 'invalid_tenant') {
                    console.error('‚ùå Invalid tenant ID in configuration');
                    document.getElementById('msal-loading').innerHTML = `
                        <div style="color: #d83b01; padding: 1rem; text-align: center;">
                            ‚ö†Ô∏è Invalid tenant configuration<br>
                            <small>Please check your tenantId in TENANT_CONFIG.</small>
                        </div>
                    `;
                    
                } else {
                    console.log('Attempting login despite error...');
                    // For other errors, still try to login
                    initiateLogin();
                }
            });

            // Enhanced logout with multi-tenant cleanup
            logoutBtn.onclick = function() {
                // Clear tenant info
                delete window.currentTenant;
                
                // Emit logout event
                document.dispatchEvent(new CustomEvent('azure-auth-logout', {
                    detail: { isMultiTenant: true }
                }));
                
                msalInstance.logoutRedirect({
                    postLogoutRedirectUri: window.location.origin
                }).catch((error) => {
                    console.error("Multi-tenant logout error:", error);
                    // Force reload to clear all state
                    window.location.reload();
                });
            };

            // Utility function for components to get current tenant info
            window.getCurrentTenant = function() {
                return window.currentTenant || null;
            };

            // Utility function to check if user has specific roles/permissions
            window.hasPermission = function(permission) {
                const tenant = window.currentTenant;
                if (!tenant) return false;
                
                // Add custom logic here based on your application's needs
                // This could integrate with Azure AD roles, app roles, etc.
                return true; // Default allow for demo purposes
            };

            function hurryupjeff() {
  // This function does nothing
}
        </script>
</html>